@page "/AirQualityMeasurements/create"
@using System.Linq
@using System.Threading.Tasks
@using LabModels
@using LabMobile.Services
@inject NavigationManager NavigationManager;

<h3>Create a new Air Quality Measurement</h3>

<div class="form-group">
    <label for="receptionPointId">Reception Point Id:</label>
    <input type="text" class="form-control" id="receptionPointId" @bind="@AirQualityMeasurement.ReceptionPointId" />
</div>
<div class="form-group">
    <label for="date">Date:</label>
    <input type="datetime-local" class="form-control" id="date" @bind="@AirQualityMeasurement.Date" />
</div>
<div class="form-group">
    <label for="temperature">Temperature:</label>
    <input type="number" class="form-control" id="temperature" @bind="@AirQualityMeasurement.Temperature" />
</div>
<div class="form-group">
    <label for="pressure">Pressure:</label>
    <input type="number" class="form-control" id="pressure" @bind="@AirQualityMeasurement.Pressure" />
</div>
<div class="form-group">
    <label for="humidity">Humidity:</label>
    <input type="number" class="form-control" id="humidity" @bind="@AirQualityMeasurement.Humidity" />
</div>
<div class="form-group">
    <label for="iaq">IAQ:</label>
    <input type="number" class="form-control" id="iaq" @bind="@AirQualityMeasurement.Iaq" />
</div>
<div class="form-group">
    <label for="co2Equivalent">CO2 Equivalent:</label>
    <input type="number" class="form-control" id="co2Equivalent" @bind="@AirQualityMeasurement.Co2Equivalent" />
</div>
<div class="form-group">
    <label for="breathVocEquivalent">Breath VOC Equivalent:</label>
    <input type="number" class="form-control" id="breathVocEquivalent" @bind="@AirQualityMeasurement.BreathVocEquivalent" />
</div>
<div class="form-group">
    <label for="isNormal">Is Normal:</label>
    <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="isNormal" @bind="@AirQualityMeasurement.IsNormal" />
        <label class="custom-control-label" for="isNormal"></label>
    </div>
</div>
<div class="form-group">
    <label for="iaqLevel">IAQ Level:</label>
    <input type="text" class="form-control" id="iaqLevel" @bind="@AirQualityMeasurement.IaqLevel" />
</div>
<div class="form-group">
    <label for="season">Season:</label>
    <input type="text" class="form-control" id="season" @bind="@AirQualityMeasurement.Season" />
</div>
<button type="submit" class="btn btn-primary" @onclick="@CreateAirQualityMeasurementAsync">Create</button>

@code {
    private AirQualityMeasurement AirQualityMeasurement { get; set; } = new AirQualityMeasurement();

    [Inject]
    public IAirQualityMeasurementService AirQualityMeasurementService { get; set; }

    private async Task CreateAirQualityMeasurementAsync()
    {
        await AirQualityMeasurementService.CreateAirQualityMeasurementAsync(AirQualityMeasurement);
        NavigationManager.NavigateTo("/AirQualityMeasurements/AirQualityMeasurements");
    }
}
